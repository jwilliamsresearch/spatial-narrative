<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spatial-narrative - Spatiotemporal Event Analysis in Rust</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --primary: #CE422B;
            --secondary: #3B82F6;
            --accent: #10B981;
            --dark: #1F2937;
            --light: #F9FAFB;
            --code-bg: #2D3748;
            --border: #E5E7EB;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.8;
            color: var(--dark);
            background: #fafafa;
            font-size: 16px;
        }

        h1, h2, h3, h4, .btn, code, .module-box {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .hero {
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-bottom: 4px solid #ce422b;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M20 10 L30 20 L20 30 L10 20 Z" fill="rgba(255,255,255,0.03)"/></svg>');
            opacity: 0.4;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .hero .tagline {
            font-size: 1.3rem;
            margin-bottom: 20px;
            opacity: 0.9;
            font-weight: 300;
            font-family: -apple-system, sans-serif;
        }

        .hero .subtitle {
            font-size: 1rem;
            opacity: 0.85;
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 35px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .btn-primary {
            background: white;
            color: var(--primary);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.3);
        }

        .btn i {
            margin-right: 8px;
        }

        .feature-icon i {
            display: block;
        }

        .use-case h4 i {
            margin-right: 8px;
        }

        .footer-links a i {
            margin-right: 6px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 60px 20px;
            counter-increment: section;
        }

        section:nth-child(even) {
            background: white;
        }

        section:nth-child(odd) {
            background: #fafafa;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--dark);
            text-align: center;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        h2::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--primary);
            margin: 15px auto 0;
        }

        h3 {
            font-size: 1.8rem;
            margin: 30px 0 15px;
            color: var(--primary);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
            opacity: 0.8;
        }

        .feature-card h3 {
            font-size: 1.4rem;
            margin: 15px 0;
        }

        .code-example {
            background: var(--code-bg);
            color: #E2E8F0;
            padding: 25px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            position: relative;
        }

        .code-example::before {
            content: 'Rust';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .code-example code {
            font-family: 'Fira Code', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            white-space: pre;
            display: block;
        }

        .keyword { color: #F472B6; }
        .string { color: #34D399; }
        .function { color: #60A5FA; }
        .comment { color: #9CA3AF; font-style: italic; }
        .number { color: #FBBF24; }
        .type { color: #A78BFA; }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }

        .stat-card {
            text-align: center;
            padding: 30px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 4px;
            transition: border-color 0.3s ease;
        }

        .stat-card:hover {
            border-color: var(--primary);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 600;
            display: block;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .architecture-diagram {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 40px 0;
            overflow-x: auto;
        }

        .module-box {
            display: inline-block;
            padding: 15px 25px;
            margin: 10px;
            border-radius: 8px;
            font-weight: 600;
            border: 2px solid;
        }

        .core { background: #FEE2E2; border-color: #DC2626; color: #991B1B; }
        .text { background: #DBEAFE; border-color: #2563EB; color: #1E40AF; }
        .spatial { background: #D1FAE5; border-color: #059669; color: #065F46; }
        .analysis { background: #FEF3C7; border-color: #D97706; color: #92400E; }
        .io { background: #E9D5FF; border-color: #9333EA; color: #6B21A8; }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--light);
        }

        .checkmark { color: var(--accent); font-weight: bold; }
        .crossmark { color: #EF4444; font-weight: bold; }

        .use-cases {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .use-case {
            padding: 25px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-left: 4px solid var(--secondary);
            border-radius: 8px;
        }

        .use-case h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        footer {
            background: var(--dark);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .footer-links a:hover {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .hero .tagline { font-size: 1.2rem; }
            h2 { font-size: 2rem; }
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 5px;
        }

        .badge-stable { background: #D1FAE5; color: #065F46; }
        .badge-beta { background: #DBEAFE; color: #1E40AF; }
        .badge-optional { background: #FEF3C7; color: #92400E; }

        .timeline {
            position: relative;
            padding: 20px 0;
            margin: 40px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border);
        }

        .timeline-item {
            position: relative;
            margin: 30px 0;
            width: calc(50% - 30px);
        }

        .timeline-item:nth-child(odd) {
            margin-left: auto;
            padding-left: 30px;
        }

        .timeline-item:nth-child(even) {
            padding-right: 30px;
            text-align: right;
        }

        .timeline-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .timeline::before { left: 20px; }
            .timeline-item {
                width: calc(100% - 60px);
                margin-left: 40px !important;
                padding: 0 0 0 20px !important;
                text-align: left !important;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <div class="hero-content">
            <img src="../assets/logo-light.svg" alt="spatial-narrative logo" style="max-width: 350px; width: 70%; margin-bottom: 25px;" onerror="this.style.display='none'">
            <h1 style="font-size: 2.8rem; font-weight: 600; margin-bottom: 15px;">spatial-narrative</h1>
            <p class="tagline">A Rust library for spatiotemporal event modeling and analysis</p>
            <p class="subtitle">
                Efficient data structures and algorithms for representing, indexing, and analyzing narratives that unfold across geographic space and time
            </p>
            <div class="cta-buttons">
                <a href="book/index.html" class="btn btn-primary"><i class="fas fa-book"></i> Read the Book</a>
                <a href="https://docs.rs/spatial-narrative" class="btn btn-secondary"><i class="fas fa-book-open"></i> API Docs</a>
                <a href="https://crates.io/crates/spatial-narrative" class="btn btn-secondary"><i class="fas fa-cube"></i> Crates.io</a>
                <a href="https://github.com/jwilliamsresearch/spatial-narrative" class="btn btn-secondary"><i class="fab fa-github"></i> GitHub</a>
            </div>
        </div>
    </div>

    <section style="background: #f9fafb;">
        <div class="container">
            <h2><i class="fas fa-scroll"></i> Abstract</h2>
            <div style="background: white; border: 1px solid #e5e7eb; padding: 30px; margin-bottom: 20px; line-height: 1.8;">
                <p style="margin-bottom: 20px;">
                    <strong>spatial-narrative</strong> provides a unified framework for modeling events that occur across both geographic space and chronological time. The library addresses fundamental challenges in spatiotemporal data management: efficient representation, indexing, querying, and analysis of location-based narratives.
                </p>
                <p style="margin-bottom: 20px;">
                    Core abstractions include zero-copy event sequences, spatial indexing structures (R-tree, quadtree), and temporal analysis primitives. The library supports diverse input formats (GPS tracks, JSON narratives, text extraction) and provides extensible transformation pipelines for data processing workflows.
                </p>
                <p style="margin-bottom: 0;">
                    All components are designed for performance-critical applications with zero-cost abstractions, minimal allocations, and optional SIMD acceleration. The architecture enables integration with machine learning pipelines through optional ONNX Runtime support for named entity recognition tasks.
                </p>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2><i class="fas fa-question-circle"></i> What is a Spatial Narrative?</h2>
            <p style="font-size: 1.2rem; text-align: center; max-width: 800px; margin: 20px auto 0;">
                A <strong>spatial narrative</strong> is any story, journey, or sequence of events that has both 
                <em>temporal</em> (when) and <em>spatial</em> (where) dimensions. From historical migrations to 
                daily commutes, from literary settings to conflict timelinesâ€”if it happens somewhere and somewhen, 
                this library can help you analyze it.
            </p>

            <div class="stats">
                <div class="stat-card">
                    <span class="stat-number">157</span>
                    <span class="stat-label">Unit Tests</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">9</span>
                    <span class="stat-label">Core Modules</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">6</span>
                    <span class="stat-label">I/O Formats</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">95%</span>
                    <span class="stat-label">ML NER F1 Score</span>
                </div>
            </div>
        </div>
    </section>

    <section style="background: white;">
        <div class="container">
            <h2><i class="fas fa-cogs"></i> Core Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <h3>Rich Event Types</h3>
                    <p>Create events with precise locations (WGS84), flexible timestamps (year to second), and extensible metadata. Track provenance with source attribution.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-search-location"></i></div>
                    <h3>Spatial Indexing</h3>
                    <p>R*-tree spatial indexing for efficient nearest-neighbor and bounding-box queries. Query millions of events in milliseconds.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-clock"></i></div>
                    <h3>Temporal Analysis</h3>
                    <p>Detect event bursts, gaps, and patterns. Flexible precision from years down to seconds. Timezone-aware calculations.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-brain"></i></div>
                    <h3>ML-Powered NER</h3>
                    <p>Extract entities using BERT transformers via ONNX Runtime. 95% F1 score on standard benchmarks. Context-aware extraction.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-route"></i></div>
                    <h3>Movement Analysis</h3>
                    <p>Trajectory analysis, velocity profiles, stop detection. DBSCAN and K-means clustering for spatial patterns.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-project-diagram"></i></div>
                    <h3>Graph Analysis</h3>
                    <p>Model narratives as directed graphs. Causal, temporal, spatial, and thematic relationships. Built on petgraph.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-file-code"></i></div>
                    <h3>Multiple Formats</h3>
                    <p>Import/export JSON, CSV, GeoJSON, GPX. Optional SQLite backend with full-text search.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-globe-americas"></i></div>
                    <h3>Geocoding</h3>
                    <p>Built-in gazetteer with 200+ locations. Extract coordinates from text (decimal, DMS). Optional external API support.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-bolt"></i></div>
                    <h3>Performance</h3>
                    <p>Parallel processing with Rayon. Zero-copy operations. Efficient memory usage with spatial data structures.</p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2><i class="fas fa-rocket"></i> Quick Start</h2>
            <p style="text-align: center; font-size: 1.1rem; margin-bottom: 30px;">
                Add to your <code>Cargo.toml</code>:
            </p>
            <div class="code-example">
<code>[dependencies]
spatial-narrative = <span class="string">"0.1"</span>

<span class="comment"># With optional features</span>
spatial-narrative = { version = <span class="string">"0.1"</span>, features = [<span class="string">"full"</span>] }</code>
            </div>

            <h3>Creating Events and Narratives</h3>
            <div class="code-example">
<code><span class="keyword">use</span> spatial_narrative::prelude::*;

<span class="comment">// Create a location</span>
<span class="keyword">let</span> paris = Location::new(<span class="number">48.8566</span>, <span class="number">2.3522</span>);

<span class="comment">// Create an event</span>
<span class="keyword">let</span> event = Event::builder()
    .text(<span class="string">"Arrived in Paris"</span>)
    .location(paris)
    .timestamp(Timestamp::parse(<span class="string">"2024-03-15T10:30:00Z"</span>)?)
    .tags(vec![<span class="string">"travel"</span>, <span class="string">"europe"</span>])
    .build()?;

<span class="comment">// Build a narrative</span>
<span class="keyword">let</span> <span class="keyword">mut</span> narrative = Narrative::new(<span class="string">"European Journey"</span>);
narrative.add_event(event);

println!(<span class="string">"{} events, spanning {}"</span>, 
    narrative.event_count(),
    narrative.time_range().unwrap().duration()
);</code>
            </div>

            <h3>Extracting Named Entities</h3>
            <div class="code-example">
<code><span class="keyword">use</span> spatial_narrative::text::{TextAnalyzer, EntityType};

<span class="keyword">let</span> analyzer = TextAnalyzer::new();
<span class="keyword">let</span> text = <span class="string">"Dr. Smith visited the Louvre Museum in Paris on March 15th."</span>;

<span class="keyword">for</span> entity <span class="keyword">in</span> analyzer.extract_entities(text) {
    <span class="keyword">match</span> entity.entity_type {
        EntityType::Person => println!(<span class="string">"Person: {}"</span>, entity.text),
        EntityType::Location => println!(<span class="string">"Place: {}"</span>, entity.text),
        EntityType::Organization => println!(<span class="string">"Org: {}"</span>, entity.text),
        _ => {}
    }
}</code>
            </div>

            <h3>Spatial Queries with R*-tree</h3>
            <div class="code-example">
<code><span class="keyword">use</span> spatial_narrative::index::SpatialIndex;

<span class="keyword">let</span> <span class="keyword">mut</span> index = SpatialIndex::new();

<span class="comment">// Add events to spatial index</span>
<span class="keyword">for</span> event <span class="keyword">in</span> events {
    index.insert(event);
}

<span class="comment">// Find 5 nearest events to a point</span>
<span class="keyword">let</span> query_point = Location::new(<span class="number">48.8566</span>, <span class="number">2.3522</span>);
<span class="keyword">let</span> nearest = index.nearest(&query_point, <span class="number">5</span>);

<span class="comment">// Query by bounding box</span>
<span class="keyword">let</span> bounds = GeoBounds::new(
    Location::new(<span class="number">48.8</span>, <span class="number">2.2</span>),  <span class="comment">// SW corner</span>
    Location::new(<span class="number">48.9</span>, <span class="number">2.4</span>),  <span class="comment">// NE corner</span>
);
<span class="keyword">let</span> in_paris = index.query_bbox(&bounds);</code>
            </div>
        </div>
    </section>

    <section style="background: white;">
        <div class="container">
            <h2><i class="fas fa-sitemap"></i> Architecture</h2>
            <p style="text-align: center; font-size: 1.1rem; margin-bottom: 40px;">
                Modular design with clear separation of concerns
            </p>

            <div class="architecture-diagram">
                <div style="text-align: center;">
                    <div style="margin: 20px 0;">
                        <strong>Core Types</strong><br>
                        <span class="module-box core">Location</span>
                        <span class="module-box core">Timestamp</span>
                        <span class="module-box core">Event</span>
                        <span class="module-box core">Narrative</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <strong>Text Processing</strong><br>
                        <span class="module-box text">TextAnalyzer</span>
                        <span class="module-box text">KeywordExtractor</span>
                        <span class="module-box text">MlNerModel</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <strong>Spatial Operations</strong><br>
                        <span class="module-box spatial">SpatialIndex</span>
                        <span class="module-box spatial">TemporalIndex</span>
                        <span class="module-box spatial">GeoParser</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <strong>Analysis</strong><br>
                        <span class="module-box analysis">Clustering</span>
                        <span class="module-box analysis">Movement</span>
                        <span class="module-box analysis">Comparison</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <strong>I/O & Storage</strong><br>
                        <span class="module-box io">JSON</span>
                        <span class="module-box io">CSV</span>
                        <span class="module-box io">GeoJSON</span>
                        <span class="module-box io">GPX</span>
                        <span class="module-box io">SQLite</span>
                    </div>
                </div>
            </div>

            <h3>Feature Flags</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                        <th>Size</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>nlp</code></td>
                        <td>Enhanced text segmentation with Unicode support</td>
                        <td>~50KB</td>
                        <td><span class="badge badge-stable">Stable</span></td>
                    </tr>
                    <tr>
                        <td><code>gpx-support</code></td>
                        <td>Parse GPS tracks from fitness devices</td>
                        <td>~100KB</td>
                        <td><span class="badge badge-stable">Stable</span></td>
                    </tr>
                    <tr>
                        <td><code>database</code></td>
                        <td>SQLite backend with full-text search</td>
                        <td>~1MB</td>
                        <td><span class="badge badge-stable">Stable</span></td>
                    </tr>
                    <tr>
                        <td><code>geocoding</code></td>
                        <td>External geocoding API support (reqwest)</td>
                        <td>~200KB</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                    </tr>
                    <tr>
                        <td><code>projections</code></td>
                        <td>Coordinate system transformations via PROJ</td>
                        <td>~500KB</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                    </tr>
                    <tr>
                        <td><code>ml-ner</code></td>
                        <td>BERT-based entity extraction via ONNX Runtime</td>
                        <td>~600MB*</td>
                        <td><span class="badge badge-beta">Beta</span></td>
                    </tr>
                </tbody>
            </table>
            <p style="font-size: 0.9rem; color: #6B7280; margin-top: 10px;">
                *Requires separate ONNX Runtime library and model files
            </p>
        </div>
    </section>

    <section>
        <div class="container">
            <h2><i class="fas fa-microchip"></i> Technical Architecture</h2>

            <h3>Coordinate Systems & Precision</h3>
            <div class="code-example">
<code><span class="comment">// Default: WGS84 (EPSG:4326) - GPS standard</span>
<span class="keyword">let</span> location = Location::new(<span class="number">48.8566</span>, <span class="number">2.3522</span>);

<span class="comment">// f64 precision: ~1cm accuracy at equator</span>
<span class="comment">// Elevation in meters (optional)</span>
<span class="keyword">let</span> summit = Location::builder()
    .lat(<span class="number">45.8326</span>)
    .lon(<span class="number">6.8652</span>)
    .elevation(<span class="number">4808.0</span>)  <span class="comment">// Mont Blanc</span>
    .build()?;</code>
            </div>

            <h3>Temporal Flexibility</h3>
            <p>Support for multiple precision levelsâ€”from centuries to seconds:</p>
            <div class="code-example">
<code><span class="comment">// Year precision: "1066"</span>
<span class="keyword">let</span> battle = Timestamp::parse(<span class="string">"1066"</span>)?;

<span class="comment">// Month precision: "2024-03"</span>
<span class="keyword">let</span> spring = Timestamp::parse(<span class="string">"2024-03"</span>)?;

<span class="comment">// Full RFC 3339: "2024-03-15T10:30:00Z"</span>
<span class="keyword">let</span> precise = Timestamp::parse(<span class="string">"2024-03-15T10:30:00Z"</span>)?;

<span class="comment">// Timezone support via chrono-tz</span>
<span class="keyword">let</span> tokyo_time = Timestamp::parse(<span class="string">"2024-03-15T19:30:00+09:00"</span>)?;</code>
            </div>

            <h3>Spatial Algorithms</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Algorithm</th>
                        <th>Use Case</th>
                        <th>Complexity</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Haversine Distance</strong></td>
                        <td>Great-circle distance on sphere</td>
                        <td>O(1)</td>
                    </tr>
                    <tr>
                        <td><strong>R*-tree Indexing</strong></td>
                        <td>Spatial queries (bbox, nearest)</td>
                        <td>O(log n)</td>
                    </tr>
                    <tr>
                        <td><strong>DBSCAN</strong></td>
                        <td>Density-based clustering</td>
                        <td>O(n log n)</td>
                    </tr>
                    <tr>
                        <td><strong>K-means</strong></td>
                        <td>Partition-based clustering</td>
                        <td>O(kÂ·nÂ·i)</td>
                    </tr>
                    <tr>
                        <td><strong>Trajectory Simplification</strong></td>
                        <td>Reduce GPS track points</td>
                        <td>O(n)</td>
                    </tr>
                </tbody>
            </table>

            <h3>ML-Based NER Performance</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Approach</th>
                        <th>Accuracy (F1)</th>
                        <th>Speed</th>
                        <th>Size</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Pattern-based</strong> (TextAnalyzer)</td>
                        <td>70-80%</td>
                        <td>10K+ tok/s</td>
                        <td>0 KB</td>
                    </tr>
                    <tr>
                        <td><strong>BERT-base</strong> (ml-ner)</td>
                        <td>90-95%</td>
                        <td>50-100 tok/s</td>
                        <td>~400 MB</td>
                    </tr>
                    <tr>
                        <td><strong>BERT-large</strong> (ml-ner)</td>
                        <td>92-96%</td>
                        <td>20-50 tok/s</td>
                        <td>~1.2 GB</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section style="background: white;">
        <div class="container">
            <h2><i class="fas fa-lightbulb"></i> Use Cases</h2>
            <div class="use-cases">
                <div class="use-case">
                    <h4><i class="fas fa-book-open"></i> Digital Humanities</h4>
                    <p>Track historical events, map literary settings, analyze archival documents across space and time.</p>
                </div>
                <div class="use-case">
                    <h4><i class="fas fa-plane"></i> Travel & Logistics</h4>
                    <p>Analyze GPS tracks, optimize routes, create interactive travel diaries with location metadata.</p>
                </div>
                <div class="use-case">
                    <h4><i class="fas fa-microscope"></i> Social Science</h4>
                    <p>Study migration patterns, analyze urban mobility, research conflict timelines and distributions.</p>
                </div>
                <div class="use-case">
                    <h4><i class="fas fa-newspaper"></i> Journalism</h4>
                    <p>Investigate spatiotemporal patterns, fact-check location claims, create data-driven stories.</p>
                </div>
                <div class="use-case">
                    <h4><i class="fas fa-running"></i> Fitness Tracking</h4>
                    <p>Analyze running routes, detect training patterns, compare workout performances over time.</p>
                </div>
                <div class="use-case">
                    <h4><i class="fas fa-bullseye"></i> Personal Projects</h4>
                    <p>Organize photo collections by location, map family history, create digital scrapbooks.</p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2><i class="fas fa-map-signs"></i> Roadmap</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4 style="color: var(--accent); margin: 0 0 10px;">âœ… v0.1 - Current</h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>Core spatiotemporal types</li>
                            <li>Text parsing & entity extraction</li>
                            <li>Spatial/temporal indexing</li>
                            <li>Movement analysis</li>
                            <li>Multiple I/O formats</li>
                            <li>ML-based NER (beta)</li>
                        </ul>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4 style="color: var(--secondary); margin: 0 0 10px;">ðŸš§ v0.2 - Planned</h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>Visualization export (HTML/SVG maps)</li>
                            <li>Network analysis (centrality, communities)</li>
                            <li>Time series analysis</li>
                            <li>Batch ML inference</li>
                            <li>WebAssembly support</li>
                        </ul>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4 style="color: var(--primary); margin: 0 0 10px;">ðŸ”® v1.0 - Future</h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>Real-time event streams</li>
                            <li>Cloud storage backends</li>
                            <li>Interactive web UI</li>
                            <li>Multi-language support</li>
                            <li>Plugin system</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section style="background: white;">
        <div class="container">
            <h2><i class="fas fa-cubes"></i> Dependencies</h2>
            <p style="text-align: center; margin-bottom: 30px;">Powered by excellent Rust libraries:</p>
            <div class="features-grid">
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">geo</h4>
                    <p style="margin: 5px 0 0;">Geospatial primitives and algorithms</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">rstar</h4>
                    <p style="margin: 5px 0 0;">R*-tree spatial indexing</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">chrono</h4>
                    <p style="margin: 5px 0 0;">Date and time handling</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">serde</h4>
                    <p style="margin: 5px 0 0;">Serialization framework</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">petgraph</h4>
                    <p style="margin: 5px 0 0;">Graph data structures</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">rayon</h4>
                    <p style="margin: 5px 0 0;">Parallel iterators</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">ort</h4>
                    <p style="margin: 5px 0 0;">ONNX Runtime bindings</p>
                </div>
                <div class="feature-card">
                    <h4 style="margin: 0; color: var(--primary);">rusqlite</h4>
                    <p style="margin: 5px 0 0;">SQLite database interface</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="book/index.html"><i class="fas fa-book"></i> Book</a>
                <a href="https://docs.rs/spatial-narrative"><i class="fas fa-book-open"></i> API Documentation</a>
                <a href="https://github.com/jwilliamsresearch/spatial-narrative"><i class="fab fa-github"></i> GitHub</a>
                <a href="https://crates.io/crates/spatial-narrative"><i class="fas fa-cube"></i> Crates.io</a>
                <a href="https://github.com/jwilliamsresearch/spatial-narrative/issues"><i class="fas fa-bug"></i> Issues</a>
                <a href="book/ml-ner.html"><i class="fas fa-brain"></i> ML NER Guide</a>
            </div>
            <p style="opacity: 0.8; margin-top: 20px;">
                Built with <i class="fas fa-heart" style="color: #e25555;"></i> for digital humanities, geospatial analysis, and storytelling
            </p>
            <p style="opacity: 0.6; margin-top: 10px; font-size: 0.9rem;">
                MIT License &copy; 2024 James Williams
            </p>
        </div>
    </footer>
</body>
</html>
